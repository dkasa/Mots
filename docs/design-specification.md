# 设计规范 - 初中法语背单词移动应用

## 1. 设计方向与理念

### 风格定位：活力学习风格
在专业性和趣味性间取得平衡，用温暖的色彩、适度圆润的形状和清晰的视觉层次营造轻松而专注的学习氛围。设计既要让初中生（12-15岁）感到友好亲和，又要保持学习工具应有的专业性和效率。

**设计原则：**
- **清晰优先：** 法语单词、中文释义、音标、词性必须清晰可辨，层次分明
- **触摸友好：** 所有可点击元素≥56px高度，考虑单手操作便利性
- **即时反馈：** 每次操作都有明确的视觉和动画反馈
- **进度可见：** 学习进度、掌握状态一目了然，提供成就激励
- **长时舒适：** 柔和配色减少视觉疲劳，适合长时间学习

**真实案例参考：** Duolingo移动端、Quizlet学习卡片、Forest专注应用

---

## 2. 设计令牌

### 2.1 色彩系统

#### 主色调（Primary - 活力蓝绿）
用于主要操作按钮、品牌识别元素

| 名称 | 值 | 用途 | WCAG对比度 |
|------|------|------|------------|
| primary-50 | `#E0F7F4` | 浅色背景、禁用状态 | - |
| primary-100 | `#B3EDE5` | 悬停背景 | - |
| primary-500 | `#26C6B0` | 主按钮、重点强调 | 3.8:1 (白底) |
| primary-700 | `#1A9B8A` | 按下状态、深色变体 | 5.2:1 (白底) |
| primary-900 | `#0D5A4F` | 文字、图标 | 9.1:1 (白底) ✓ AAA |

#### 辅助色（Secondary - 暖橙色）
用于次要操作、警示提醒

| 名称 | 值 | 用途 | WCAG对比度 |
|------|------|------|------------|
| secondary-50 | `#FFF4E6` | 浅色背景 | - |
| secondary-100 | `#FFE4C2` | 悬停背景 | - |
| secondary-500 | `#FF9F43` | 次要按钮、未掌握标记 | 3.2:1 (白底) |
| secondary-700 | `#E8852E` | 按下状态 | 4.5:1 (白底) ✓ AA |
| secondary-900 | `#A65E1F` | 深色文字 | 7.8:1 (白底) ✓ AAA |

#### 中性色（Neutral - 温暖灰）
用于文字、背景、边框

| 名称 | 值 | 用途 | WCAG对比度 |
|------|------|------|------------|
| neutral-50 | `#FAFAF9` | 页面背景 | - |
| neutral-100 | `#F5F5F4` | 卡片背景 | - |
| neutral-200 | `#E7E5E4` | 分割线、边框 | - |
| neutral-400 | `#A8A29E` | 辅助文字、禁用文字 | 3.5:1 (白底) |
| neutral-600 | `#57534E` | 次要文字 | 7.2:1 (白底) ✓ AAA |
| neutral-800 | `#292524` | 主文字 | 15.8:1 (白底) ✓ AAA |

#### 语义色（Semantic）
用于状态反馈

| 名称 | 值 | 用途 |
|------|------|------|
| success-500 | `#22C55E` | 已掌握状态、成功提示 |
| success-700 | `#16A34A` | 已掌握按钮按下 |
| warning-500 | `#F59E0B` | 学习中状态 |
| error-500 | `#EF4444` | 错误提示 |
| info-500 | `#3B82F6` | 信息提示 |

#### 背景色
| 名称 | 值 | 用途 |
|------|------|------|
| bg-primary | `#FAFAF9` | 主背景（neutral-50） |
| bg-card | `#FFFFFF` | 卡片背景 |
| bg-elevated | `#FFFFFF` | 浮起元素背景（带阴影） |

**关键对比度验证：**
- 主文字（neutral-800）+ 白色背景：15.8:1 ✓ AAA
- 次要文字（neutral-600）+ 白色背景：7.2:1 ✓ AAA
- 主按钮文字（白色）+ primary-500背景：4.9:1 ✓ AA（大文本AAA）

---

### 2.2 字体系统

#### 字体族
| 用途 | 字体栈 | 备注 |
|------|--------|------|
| 法语显示 | `'Nunito', 'Noto Sans', system-ui, sans-serif` | Nunito支持法语特殊字符（é, è, ê, ë等），圆润友好 |
| 中文显示 | `'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif` | 清晰易读，与法语字体风格协调 |
| 音标显示 | `'Noto Sans', 'Doulos SIL', system-ui, sans-serif` | 支持国际音标（IPA）符号 |
| 数字/统计 | `'Roboto', 'Tabular Nums', sans-serif` | 等宽数字，便于对齐 |

#### 字号比例（Major Third 1.25倍）
| 名称 | 尺寸(px) | 用途 |
|------|----------|------|
| text-xs | 12px | 标签、提示文字 |
| text-sm | 14px | 辅助文字、词性标签 |
| text-base | 16px | 正文、中文释义（移动端基准） |
| text-lg | 20px | 次级标题、导航文字 |
| text-xl | 24px | 卡片标题 |
| text-2xl | 32px | 法语单词（学习卡片） |
| text-3xl | 40px | 大标题（统计数字） |
| text-4xl | 48px | 特大标题（可选） |

#### 字重
| 名称 | 值 | 用途 |
|------|------|------|
| font-normal | 400 | 正文、释义 |
| font-medium | 500 | 导航、标签 |
| font-semibold | 600 | 按钮、小标题 |
| font-bold | 700 | 法语单词、重要标题 |

#### 行高
| 名称 | 值 | 用途 |
|------|------|------|
| leading-tight | 1.25 | 大标题、数字 |
| leading-normal | 1.5 | 正文 |
| leading-relaxed | 1.75 | 长文本、说明 |

#### 字间距
| 名称 | 值 | 用途 |
|------|------|------|
| tracking-tight | -0.01em | 大标题 |
| tracking-normal | 0em | 正文 |
| tracking-wide | 0.025em | 小型大写字母、标签 |

---

### 2.3 间距系统（4px基础网格）

| 名称 | 值(px) | 用途 |
|------|--------|------|
| space-1 | 4 | 极小间距、图标间距 |
| space-2 | 8 | 紧凑间距、内联元素 |
| space-3 | 12 | 小间距、相关元素 |
| space-4 | 16 | 标准间距、卡片内边距（基础） |
| space-5 | 20 | - |
| space-6 | 24 | 中等间距、组件间距 |
| space-8 | 32 | 大间距、卡片内边距（舒适） |
| space-10 | 40 | 超大间距、卡片内边距（宽松） |
| space-12 | 48 | 章节间距 |
| space-16 | 64 | 页面顶部/底部间距 |
| space-20 | 80 | 超大区块间距 |

---

### 2.4 圆角

| 名称 | 值(px) | 用途 |
|------|--------|------|
| rounded-sm | 4 | 小元素、标签 |
| rounded | 8 | 输入框、小卡片 |
| rounded-md | 12 | 标准卡片、按钮 |
| rounded-lg | 16 | 大卡片、单词卡片 |
| rounded-xl | 20 | 模态框 |
| rounded-full | 9999px | 圆形按钮、头像 |

---

### 2.5 阴影

| 名称 | 值 | 用途 |
|------|------|------|
| shadow-sm | `0 1px 2px rgba(0, 0, 0, 0.05)` | 轻微浮起 |
| shadow | `0 2px 8px rgba(0, 0, 0, 0.08)` | 卡片默认 |
| shadow-md | `0 4px 16px rgba(0, 0, 0, 0.1)` | 卡片悬停、按钮 |
| shadow-lg | `0 8px 24px rgba(0, 0, 0, 0.12)` | 模态框、浮层 |
| shadow-colored | `0 4px 16px rgba(38, 198, 176, 0.2)` | 主按钮悬停（带品牌色） |

---

### 2.6 动画时长

| 名称 | 值(ms) | 用途 |
|------|---------|------|
| duration-fast | 150 | 快速反馈（按钮按下） |
| duration-base | 250 | 标准过渡（卡片翻转） |
| duration-slow | 350 | 慢速过渡（页面切换） |
| duration-slower | 500 | 超慢过渡（模态框） |

**缓动函数：**
- `ease-out`：cubic-bezier(0, 0, 0.2, 1) - 90%场景（默认）
- `ease-in-out`：cubic-bezier(0.4, 0, 0.2, 1) - 优雅过渡（模态框）
- `spring`：自定义弹性缓动 - 按钮反馈

---

## 3. 组件规范

### 3.1 单词学习卡片（核心组件）

**结构：**
```
┌─────────────────────────────────┐
│  [词性标签]              32px   │ ← 顶部内边距
│                                 │
│  Bonjour                 32px   │ ← 法语单词（text-2xl/bold）
│  [bɔ̃ʒuʀ]                14px   │ ← 音标（text-sm/neutral-600）
│                          24px   │ ← 间距
│  你好                    16px   │ ← 中文释义（text-base）
│                                 │
│                          32px   │ ← 底部内边距
└─────────────────────────────────┘
```

**令牌应用：**
- 背景：`bg-card` (白色)
- 内边距：`space-8` (32px)
- 圆角：`rounded-lg` (16px)
- 阴影：`shadow-md` (悬浮感)
- 边框：无（通过阴影区分层次）

**字体层次：**
1. 法语单词：`text-2xl` (32px)、`font-bold` (700)、`neutral-800`、`leading-tight`
2. 音标：`text-sm` (14px)、`font-normal` (400)、`neutral-600`、斜体
3. 中文释义：`text-base` (16px)、`font-normal` (400)、`neutral-800`
4. 词性标签：`text-xs` (12px)、`font-medium` (500)、圆角标签、`secondary-100`背景、`secondary-900`文字

**状态：**
- 默认：`shadow-md`
- 长按：轻微缩放（0.98）+ `shadow-lg`

**尺寸约束：**
- 最小宽度：280px
- 最大宽度：420px（居中显示）
- 高度：自适应（最小200px）

**交互说明：**
可左右滑动切换单词（可选增强功能）

---

### 3.2 操作按钮

**3.2.1 主按钮（已掌握）**

**令牌应用：**
- 最小尺寸：宽度≥140px、高度≥56px（触摸优化）
- 背景：`success-500`
- 文字：白色、`text-lg` (20px)、`font-semibold` (600)
- 圆角：`rounded-md` (12px)
- 内边距：垂直16px、水平32px
- 阴影：默认`shadow`、悬停`shadow-colored`（绿色调）

**状态：**
- 默认：`success-500`背景
- 按下：`success-700`背景 + 轻微缩放(0.96)
- 禁用：`neutral-200`背景 + `neutral-400`文字 + 无阴影

**图标：**
可选在文字左侧添加勾选图标（24px）

---

**3.2.2 次要按钮（未掌握）**

**令牌应用：**
- 最小尺寸：宽度≥140px、高度≥56px
- 背景：`secondary-500`
- 文字：白色、`text-lg` (20px)、`font-semibold` (600)
- 圆角：`rounded-md` (12px)
- 内边距：垂直16px、水平32px
- 阴影：默认`shadow`、悬停`shadow-md`

**状态：**
- 默认：`secondary-500`背景
- 按下：`secondary-700`背景 + 轻微缩放(0.96)
- 禁用：`neutral-200`背景 + `neutral-400`文字

---

**3.2.3 按钮组布局（学习界面）**

```
┌─────────────────────────────────┐
│  [未掌握]  16px  [已掌握]       │ ← 两按钮间距16px
│  (140px)        (140px)         │ ← 各占约50%减去间距
└─────────────────────────────────┘
```

- 容器内边距：左右20px、底部24px
- 两按钮间距：`space-4` (16px)
- 响应式：小屏幕(<360px)可堆叠为上下布局

---

### 3.3 年级切换器（Tab选项卡）

**结构：**
```
┌─────────────────────────────────┐
│  初一  │  初二  │  初三          │ ← 三等分
│  ──────                          │ ← 激活状态下划线
└─────────────────────────────────┘
```

**令牌应用：**
- 容器背景：`neutral-100`
- 单个Tab：高度48px、文字`text-base` (16px)、`font-medium`
- 圆角：容器`rounded-md` (12px)
- 内边距：整体上下4px、左右4px

**Tab状态：**
- **未选中：**
  - 背景：透明
  - 文字：`neutral-600`
  - 无下划线
  
- **选中（激活）：**
  - 背景：白色 (`bg-card`)
  - 文字：`primary-700`、`font-semibold`
  - 下划线：3px高、`primary-500`、圆角
  - 阴影：`shadow-sm`

**过渡动画：**
- 切换动画：`duration-base` (250ms)、`ease-out`
- 下划线滑动动画：流畅平移

**位置：**
固定在页面顶部导航栏下方，横向占满，左右边距20px

---

### 3.4 进度指示器

**3.4.1 进度条**

**令牌应用：**
- 容器高度：8px
- 容器背景：`neutral-200`
- 进度条背景：`primary-500`
- 圆角：`rounded-full` (完全圆角)
- 过渡：宽度变化`duration-base`

**位置与尺寸：**
位于年级切换器下方16px处，横向占满（左右边距20px）

---

**3.4.2 进度文字**

**结构：**
```
已学 45/105    已掌握 32
```

**令牌应用：**
- 字号：`text-sm` (14px)
- 字重：`font-medium` (500)
- 颜色：`neutral-600`
- 数字部分：`font-semibold`、`primary-700`（已学）、`success-700`（已掌握）

**位置：**
进度条下方8px处，左右对齐分布

---

### 3.5 单词列表项

**结构：**
```
┌─────────────────────────────────┐
│  Bonjour          [名词]  16px  │ ← 法语 + 词性标签
│  [bɔ̃ʒuʀ]            你好   8px  │ ← 音标 + 中文
│                          16px  │
├─────────────────────────────────┤ ← 分割线（已掌握时）
│  Merci            [动词]  16px  │ ← 已掌握：划线效果
│  [mɛʀsi]            谢谢   8px  │
└─────────────────────────────────┘
```

**令牌应用：**
- 背景：`bg-card`
- 内边距：垂直16px、水平20px
- 分割线：1px、`neutral-200`
- 圆角：第一项顶部`rounded-t-lg`、最后一项底部`rounded-b-lg`

**字体层次：**
1. 法语单词：`text-lg` (20px)、`font-semibold`、`neutral-800`
2. 音标：`text-xs` (12px)、`neutral-600`、斜体
3. 中文：`text-sm` (14px)、`neutral-600`
4. 词性标签：`text-xs`、圆角小标签

**已掌握状态：**
- 法语单词：添加删除线（`text-decoration: line-through`）
- 整体颜色：`neutral-400`（变灰）
- 右侧添加绿色勾选图标（16px）

**未掌握状态：**
- 正常显示
- 右侧添加橙色圆点图标（8px）

**交互：**
- 点击：进入该单词的学习界面
- 悬停：背景变为`neutral-50`

---

### 3.6 底部导航栏

**结构：**
```
┌─────────────────────────────────┐
│  [图标]     [图标]              │
│   学习       列表               │ ← 两个导航项
└─────────────────────────────────┘
```

**令牌应用：**
- 高度：64px（包含安全区）
- 背景：`bg-card`白色 + 顶部1px边框`neutral-200`
- 阴影：`shadow-lg`（向上投影）
- 固定在页面底部

**导航项：**
- 图标：24px、居中
- 文字：`text-xs` (12px)、`font-medium`
- 间距：图标与文字间距4px

**状态：**
- **未激活：**
  - 图标+文字：`neutral-400`
  
- **激活：**
  - 图标+文字：`primary-500`
  - 字重：`font-semibold`
  - 图标上方添加2px高的指示条（`primary-500`）

**图标建议：**
- 学习：书本或卡片图标（Lucide: `BookOpen`）
- 列表：列表或菜单图标（Lucide: `List`）

---

## 4. 布局与响应式

### 4.1 屏幕尺寸与断点

**目标设备：**
- 主要：iPhone SE (375px) ~ iPhone 14 Pro Max (430px)
- 次要：小屏Android (360px) ~ 大屏Android (480px)

**设计基准：**
- 基准宽度：375px（iPhone SE / iPhone 12/13/14标准版）
- 最小支持：320px
- 最大支持：480px

**断点（仅在必要时使用）：**
- xs: 320px（极小屏）
- sm: 375px（标准）
- md: 414px（Plus系列）
- lg: 480px+（平板横屏，可选支持）

---

### 4.2 页面布局结构

**学习模式页面：**
```
┌─────────────────────────┐
│ 顶部导航栏 (56px)       │ ← 固定
├─────────────────────────┤
│ 年级切换器 (56px)       │ ← 固定
├─────────────────────────┤
│ 进度指示器 (40px)       │ ← 固定
├─────────────────────────┤
│                         │
│    单词卡片（居中）     │ ← 可滚动区域
│                         │
│       （垂直居中）      │
│                         │
├─────────────────────────┤
│ 操作按钮组 (80px)       │ ← 固定
├─────────────────────────┤
│ 底部导航 (64px)         │ ← 固定
└─────────────────────────┘
```

**固定区域总高度：** 约296px
**可滚动区域：** 视口高度 - 296px

---

**列表模式页面：**
```
┌─────────────────────────┐
│ 顶部导航栏 (56px)       │ ← 固定
├─────────────────────────┤
│ 年级切换器 (56px)       │ ← 固定
├─────────────────────────┤
│ 筛选器 (48px)           │ ← 固定（可选粘性）
├─────────────────────────┤
│                         │
│   单词列表（滚动）      │ ← 可滚动区域
│                         │
│                         │
│                         │
│                         │
├─────────────────────────┤
│ 底部导航 (64px)         │ ← 固定
└─────────────────────────┘
```

---

### 4.3 容器与边距

**页面容器：**
- 左右边距：20px（标准屏）、16px（<360px）
- 最大宽度：480px（大屏居中显示）

**卡片容器：**
- 单词学习卡片：宽度100%（最大420px居中）
- 列表卡片：宽度100%

**安全区域：**
- 顶部：适配刘海屏，预留`env(safe-area-inset-top)`
- 底部：适配Home Indicator，预留`env(safe-area-inset-bottom)`

---

### 4.4 响应式策略

**字体缩放（可选）：**
```
<320px: 基准14px（0.875倍）
320-374px: 基准15px（0.9375倍）
375px+: 基准16px（1倍）
```

**按钮适配：**
- 标准屏（375px+）：双按钮横向排列
- 小屏（<360px）：考虑缩小间距或堆叠

**卡片适配：**
- 标准屏：内边距32px
- 小屏（<360px）：内边距24px

---

## 5. 交互与动画

### 5.1 页面切换

**底部导航切换（学习 ↔ 列表）：**
- 动画：淡入淡出 + 轻微位移（20px）
- 时长：`duration-slow` (350ms)
- 缓动：`ease-in-out`

---

### 5.2 状态变化动画

**标记"已掌握"：**
1. 按钮按下缩放（0.96）
2. 卡片向右滑出（200px）+ 淡出
3. 进度条平滑增长
4. 新卡片从左侧滑入（-200px）+ 淡入
5. 总时长：400ms

**标记"未掌握"：**
1. 按钮按下缩放（0.96）
2. 卡片轻微抖动（提示"未掌握但已记录"）
3. 卡片向右滑出 + 新卡片滑入
4. 总时长：400ms

**年级切换：**
1. Tab下划线滑动到新位置（250ms、`ease-out`）
2. 进度条和数字更新（淡入淡出）
3. 卡片/列表内容淡出 → 淡入（300ms）

---

### 5.3 列表交互

**列表项点击：**
1. 背景色变化（`neutral-50` → `neutral-100`）
2. 短暂延迟（100ms）后跳转到学习界面
3. 页面过渡：从右侧滑入

**筛选器切换：**
1. 按钮背景和文字颜色过渡（250ms）
2. 列表项淡出 → 重新排列 → 淡入（350ms）

---

### 5.4 微交互

**按钮按下：**
- 缩放：0.96
- 时长：`duration-fast` (150ms)
- 缓动：`spring`（轻微回弹）

**卡片悬停（可选，主要用于平板）：**
- 阴影从`shadow-md` → `shadow-lg`
- 轻微上移（-4px）
- 时长：250ms

**进度条增长：**
- 宽度平滑过渡（250ms、`ease-out`）
- 数字计数动画（350ms）

---

### 5.5 加载与骨架屏

**首次加载：**
显示骨架屏（Skeleton）：
- 卡片形状的灰色占位块
- 闪烁动画（1.5s循环）
- 颜色：`neutral-200` → `neutral-100`渐变

**年级切换加载：**
保留当前卡片，轻微透明度降低（0.6），叠加旋转加载图标

---

### 5.6 手势支持（可选增强）

**单词卡片：**
- 左滑：标记"已掌握"（绿色指示）
- 右滑：标记"未掌握"（橙色指示）
- 滑动距离阈值：80px
- 回弹动画：`spring`缓动

**列表项：**
- 左滑：显示"删除"按钮（慎用）
- 长按：显示操作菜单（编辑、删除等）

---

### 5.7 反馈机制

**触觉反馈（iOS Haptic Feedback，可选）：**
- 标记"已掌握"：轻微震动（Light Impact）
- 完成一个年级所有单词：成功震动（Success Notification）
- 年级切换：选择反馈（Selection Feedback）

**音效（可选）：**
- 标记"已掌握"：轻快"叮"声
- 完成一个年级：庆祝音效

---

## 6. 特殊场景与边缘情况

### 6.1 空状态

**所有单词已掌握：**
```
┌─────────────────────────┐
│       🎉                │
│                         │
│   恭喜！本年级单词      │
│   已全部掌握！          │
│                         │
│  [切换到下一年级]       │ ← 主按钮
│  [重新学习]             │ ← 次要按钮
└─────────────────────────┘
```

**列表筛选无结果：**
```
┌─────────────────────────┐
│       📭                │
│                         │
│   暂无符合条件的单词    │
│                         │
└─────────────────────────┘
```

---

### 6.2 极长内容

**法语单词过长（>15字符）：**
- 自动缩小字号（最小20px）
- 或换行显示（保持居中）

**中文释义过长（>20字符）：**
- 自动换行（最多2行）
- 超出显示省略号

**音标过长：**
- 自动换行（居中对齐）

---

### 6.3 错误处理

**数据加载失败：**
```
┌─────────────────────────┐
│       ⚠️                │
│                         │
│   加载失败，请重试      │
│                         │
│     [重新加载]          │ ← 主按钮
└─────────────────────────┘
```

**网络断开（若需云同步）：**
顶部显示橙色提示条：
- 背景：`warning-500`
- 文字："离线模式，数据将在联网后同步"
- 高度：40px、可手动关闭

---

## 总结

本设计规范为初中法语背单词移动应用提供了完整的视觉系统和交互方案。核心设计理念是**清晰、友好、高效**，通过温暖的色彩、合理的间距和流畅的动画，为12-15岁的初中生创造舒适的学习体验。

**关键数字回顾：**
- 触摸目标最小：≥56px
- 卡片内边距：32px（标准）
- 主文字大小：32px（法语单词）、16px（中文释义）
- 按钮高度：≥56px
- 动画时长：150-350ms
- 页面边距：20px
- 圆角：12-16px（主要元素）

**可访问性保证：**
- 文字对比度：≥4.5:1（AA标准）
- 触摸目标：≥44×44px（WCAG标准）
- 支持系统字体缩放
- 支持`prefers-reduced-motion`（减少动画）
- 语义化HTML结构

**下一步（开发阶段）：**
1. 根据design-tokens.json实现CSS变量系统
2. 参考组件规范开发可复用React/Vue组件
3. 实现本地存储（LocalStorage/IndexedDB）持久化学习进度
4. 集成音频播放（法语发音）
5. 添加统计分析模块
